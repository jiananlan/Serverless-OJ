import{_ as F,e as r,f as I,k as L,c as T,a as t,w as n,r as a,o as $,b as d,d as b,t as y,u as E}from"./index-BPkb2VXz.js";import{a as h}from"./axios-DXsv3KKR.js";const M={class:"problems"},Q={class:"header"},q={class:"filters"},A={class:"pagination"},G={__name:"Problems",setup(H){E();const i=r(""),c=r(""),u=r(1),_=r(10),f=r(0),v=r([]),w=async()=>{try{const e=(await h.get("/problems/list.txt")).data.split(`
`).filter(s=>s.trim()),p=await Promise.all(e.map(async s=>(await h.get(`/problems/${s}/problem.json`)).data));v.value=p,f.value=p.length}catch(l){console.error("Failed to load problems:",l)}};I(()=>{w()});const C=L(()=>{let l=v.value;return i.value&&(l=l.filter(e=>e.title.toLowerCase().includes(i.value.toLowerCase()))),c.value&&(l=l.filter(e=>e.difficulty===c.value)),l}),x=l=>({easy:"success",medium:"warning",hard:"danger"})[l],V=()=>{u.value=1},z=()=>{u.value=1},P=l=>{_.value=l},S=l=>{u.value=l};return(l,e)=>{const p=a("el-input"),s=a("el-option"),g=a("el-select"),m=a("el-table-column"),k=a("router-link"),N=a("el-tag"),U=a("el-table"),B=a("el-pagination"),D=a("el-card"),R=a("el-col"),j=a("el-row");return $(),T("div",M,[t(j,{justify:"center"},{default:n(()=>[t(R,{span:20},{default:n(()=>[t(D,null,{header:n(()=>[d("div",Q,[e[4]||(e[4]=d("h2",null,"题目列表",-1)),d("div",q,[t(p,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),placeholder:"搜索题目","prefix-icon":"Search",onInput:V},null,8,["modelValue"]),t(g,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),placeholder:"难度",onChange:z},{default:n(()=>[t(s,{label:"全部",value:""}),t(s,{label:"简单",value:"easy"}),t(s,{label:"中等",value:"medium"}),t(s,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])])])]),default:n(()=>[t(U,{data:C.value,style:{width:"100%"}},{default:n(()=>[t(m,{prop:"id",label:"编号",width:"80"}),t(m,{prop:"title",label:"标题"},{default:n(o=>[t(k,{to:`/submit/${o.row.title}`},{default:n(()=>[b(y(o.row.title),1)]),_:2},1032,["to"])]),_:1}),t(m,{prop:"difficulty",label:"难度",width:"100"},{default:n(o=>[t(N,{type:x(o.row.difficulty)},{default:n(()=>[b(y(o.row.difficulty),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"]),d("div",A,[t(B,{"current-page":u.value,"onUpdate:currentPage":e[2]||(e[2]=o=>u.value=o),"page-size":_.value,"onUpdate:pageSize":e[3]||(e[3]=o=>_.value=o),total:f.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:P,onCurrentChange:S},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})]),_:1})])}}},O=F(G,[["__scopeId","data-v-a87a595f"]]);export{O as default};
